extends layout

block content
	script
		include js/coachView.js
	script.
	nav.navbar.navbar-expand-lg.navbar-dark.bg-dark
		a.navbar-brand(href='/') Leadership as an Artform
		div.collapse.navbar-collapse#navbarColor02
			ul.navbar-nav.ml-auto
				li
					a.nav-item.nav-link.active(href='/coachView') Home
				li
					a.nav-link.nav-item(href='/coachProfile_coach') Profile
				li
					a.nav-item.nav-link(href='/addGoal_coach') Add Goal
				li
					form(method='POST' action='/')
						input(type="hidden" name="signOut" value="signOut")
						button(style="color: red" class="btn btn-sm",type="submit").signOut_button Sign Out
	br
	.row
		h1 Welcome, #{user.first_name}
	div.row.client_title
		script.
			var clients = !{JSON.stringify(clients)};
	div.jumbotron
		h3 Progress Approval Requests:
		br
		div.card.text-black.bg-primary-mb-3(style='max-wdith:20rem')
			each obj in clients
				each goal in obj.goals_list
					if goal.progress_acceptance != goal.progress
						h5 #{obj.fname} #{obj.lname}
						p  Requests #{goal.goal_title} to move from progress level #{goal.progress} to #{goal.progress_update}
						form(method='POST' action='/viewGoal_coach')
							input(type="hidden" name="goal_id" value=goal.id)
							button.btn-btn-block.btn-info(style="float: right" type="submit") View Goal
						form(method='POST' action='/coachView')
							button.btn-btn-block.btn-info(style="float: right" type="submit") Accept these changes?
							input(type="hidden" name="acceptRequest" value=goal.goal_id)
	div.jumbotron
		.row
			form(method='GET' action='/coachView')
				input(type="hidden" name="remindAll" value="remindAll")
				button.btn.btn-outline-primary(type="submit").client_button Remind All
				button.btn.btn-outline-primary(type="button",data-toggle="modal", data-target="#addClientModal").client_button Add Client
			.modal(role="dialog", id="addClientModal")
				.modal-dialog-centered.custom_modal_dialog(role="document")
					.modal-content
						form(id = "form" method='POST' action='/coachView')
							.modal-header
								h5 Invite a Client
								button(class="close",data-dismiss="modal")
									span &times;
							.modal-body
								p Client Name:
									input(type="text" name="clientName")
								p Email Address:
									input(type="text" name="emailAddress")
								p Welcome Message:
									br
									input(type="textarea" name = "message")
							.modal-footer
								button.btn.btn-primary(type='submit') Submit
	
